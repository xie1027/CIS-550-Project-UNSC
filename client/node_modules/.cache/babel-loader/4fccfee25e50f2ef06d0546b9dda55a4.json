{"ast":null,"code":"var _jsxFileName = \"/Users/weichen/Documents/GitHub/CIS-550-Project/client/src/components/Disasters.js\";\nimport React from 'react';\nimport PageNavbar from './PageNavbar';\nimport DisastersRow from './DisastersRow';\nimport DisastersRow1 from './DisastersRow1';\nimport '../style/Disasters.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nexport default class Disasters extends React.Component {\n  constructor(props) {\n    super(props); // State maintained by this React component is the selected movie name,\n    // and the list of recommended movies.\n\n    this.state = {\n      year_num: \"\",\n      recDisaster: [],\n      recYear: [],\n      disasters: []\n    };\n    this.handleMovieNameChange = this.handleMovieNameChange.bind(this);\n    this.submitYear = this.submitYear.bind(this);\n  }\n\n  handleMovieNameChange(e) {\n    this.setState({\n      year_num: e.target.value\n    });\n  } // componentDidMount() {\n  //     // Send an HTTP request to the server.\n  //     fetch(\"http://localhost:8081/genres\",\n  //     {\n  //       method: 'GET' // The type of HTTP request.\n  //     }).then(res => {\n  //       // Convert the response data to a JSON.\n  //       return res.json();\n  //     }, err => {\n  //       // Print the error if there is one.\n  //       console.log(err);\n  //     }).then(genreList => {\n  //       if (!genreList) return;\n  //       // Map each genreObj in genreList to an HTML element:\n  //       // A button which triggers the showMovies function for each genre.\n  //       let genreDivs = genreList.map((genreObj, i) =>\n  //       <GenreButton id={\"button-\" + genreObj.topic_keyword} onClick={() => this.showMovies(genreObj.topic_keyword)} genre={genreObj.topic_keyword} />\n  //       );\n  //       //let genreDivs = genreList.map((genreObj, i) =>\n  //       //<GenreButton id={\"button-\" + genreObj.genre} onClick={() => this.showMovies(genreObj.genre)} genre={genreObj.genre} />\n  //       //);\n  //       // Set the state of the genres list to the value returned by the HTTP response from the server.\n  //       this.setState({\n  //         genres: genreDivs\n  //       });\n  //     }, err => {\n  //       // Print the error if there is one.\n  //       console.log(err);\n  //     });\n  //  \t}\n\n\n  componentDidMount() {\n    // Send an HTTP request to the server.\n    fetch(\"http://localhost:8081/disasters\", {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(disastersList => {\n      if (!disastersList) return; // Map each genreObj in genreList to an HTML element:\n      // A button which triggers the showMovies function for each genre.\n\n      let disastersDivs = disastersList.map((disastersObj, i) => /*#__PURE__*/React.createElement(\"option\", {\n        value: disastersObj.year,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }\n      }, disastersObj.year)); /// Set the state of the genres list to the value returned by the HTTP response from the server.\n\n      this.setState({\n        disasters: disastersDivs\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      selectedDecade: e.target.value\n    });\n  }\n  /* ---- Q2 (Recommendations) ---- */\n  // Hint: Name of movie submitted is contained in `this.state.movieName`.\n\n\n  submitYear() {\n    // Send an HTTP request to the server.\n    fetch(`http://localhost:8081/disasters/${this.state.year_num}`, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      console.log(res);\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(yearList => {\n      console.log(yearList);\n      if (!yearList) return; // Map each genreObj in genreList to an HTML element:\n      // A button which triggers the showMovies function for each genre.\n      //let movieDivs = movieList.map((movieObj, i) =>\n      //<RecommendationsRow title = {movieObj.title} id = {movieObj.id} rating = {movieObj.rating} vote_count = {movieObj.vote_count}/>);\n\n      let disastersDivs = yearList.map((yearObj, i) => /*#__PURE__*/React.createElement(DisastersRow, {\n        incident_type: yearObj.incident_type,\n        num_disasters: yearObj.num_disasters,\n        states: yearObj.states,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }\n      })); // set the state of the movie to the value returned by the server\n\n      this.setState({\n        recDisaster: disastersDivs\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n    fetch(`http://localhost:8081/disasters`, {\n      method: 'GET' // The type of HTTP request.\n\n    }).then(res => {\n      // Convert the response data to a JSON.\n      console.log(res);\n      return res.json();\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    }).then(yearList => {\n      console.log(yearList);\n      if (!yearList) return; // Map each genreObj in genreList to an HTML element:\n      // A button which triggers the showMovies function for each genre.\n      //let movieDivs = movieList.map((movieObj, i) =>\n      //<RecommendationsRow title = {movieObj.title} id = {movieObj.id} rating = {movieObj.rating} vote_count = {movieObj.vote_count}/>);\n\n      let yearDivs = yearList.map((yearObj, i) => /*#__PURE__*/React.createElement(DisastersRow1, {\n        year: yearObj.year,\n        top_topic: yearObj.top_topic,\n        num_disasters: yearObj.num_disasters,\n        num_conflicts: yearObj.num_conflicts,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 7\n        }\n      })); // set the state of the movie to the value returned by the server\n\n      this.setState({\n        recYear: yearDivs\n      });\n    }, err => {\n      // Print the error if there is one.\n      console.log(err);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Recommendations\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"disasters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container recommendations-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 10\n      }\n    }, \"Natural Disasters\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      value: this.state.year_num,\n      onChange: this.handleMovieNameChange,\n      className: \"movie-input\",\n      id: \"year_num\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      select: true,\n      value: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 10\n      }\n    }, \"-- select an option --\"), this.state.disasters), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"submit-btn\",\n      id: \"submitMovieBtn\",\n      onClick: this.submitYear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }\n    }, \"Tell me more :)\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, \"You would like to know ...\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }\n    }, \"This Year ...\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headers\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 37\n      }\n    }, \"Disasters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 37\n      }\n    }, \"(#) Disasters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 43\n      }\n    }, \"States\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"results-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, this.state.recDisaster))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    }, \"What happened Each Year ...\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headers\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 37\n      }\n    }, \"Year\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 37\n      }\n    }, \"Hot Topic\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 43\n      }\n    }, \"(#) Disasters\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 43\n      }\n    }, \"(#) Conflicts\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"results-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }\n    }, this.state.recYear)))));\n  }\n\n}","map":{"version":3,"sources":["/Users/weichen/Documents/GitHub/CIS-550-Project/client/src/components/Disasters.js"],"names":["React","PageNavbar","DisastersRow","DisastersRow1","Disasters","Component","constructor","props","state","year_num","recDisaster","recYear","disasters","handleMovieNameChange","bind","submitYear","e","setState","target","value","componentDidMount","fetch","method","then","res","json","err","console","log","disastersList","disastersDivs","map","disastersObj","i","year","handleChange","selectedDecade","yearList","yearObj","incident_type","num_disasters","states","yearDivs","top_topic","num_conflicts","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PageNavbar from './PageNavbar';\nimport DisastersRow from './DisastersRow';\nimport DisastersRow1 from './DisastersRow1';\nimport '../style/Disasters.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport default class Disasters extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// State maintained by this React component is the selected movie name,\n\t\t// and the list of recommended movies.\n\t\tthis.state = {\n\t\t\tyear_num: \"\",\n\t\t\trecDisaster: [],\n\t\t\trecYear: [],\n\t\t\tdisasters: []\n\t\t}\n\n\t\tthis.handleMovieNameChange = this.handleMovieNameChange.bind(this);\n\t\tthis.submitYear = this.submitYear.bind(this);\n\t}\n\n\thandleMovieNameChange(e) {\n\t\tthis.setState({\n\t\t\tyear_num: e.target.value\n\t\t});\n\t}\n\n\t// componentDidMount() {\n\t//     // Send an HTTP request to the server.\n\t//     fetch(\"http://localhost:8081/genres\",\n\t//     {\n\t//       method: 'GET' // The type of HTTP request.\n\t//     }).then(res => {\n\t//       // Convert the response data to a JSON.\n\t//       return res.json();\n\t//     }, err => {\n\t//       // Print the error if there is one.\n\t//       console.log(err);\n\t//     }).then(genreList => {\n\t//       if (!genreList) return;\n\t//       // Map each genreObj in genreList to an HTML element:\n\t//       // A button which triggers the showMovies function for each genre.\n\n\t//       let genreDivs = genreList.map((genreObj, i) =>\n\t//       <GenreButton id={\"button-\" + genreObj.topic_keyword} onClick={() => this.showMovies(genreObj.topic_keyword)} genre={genreObj.topic_keyword} />\n\t//       );\n\n\t//       //let genreDivs = genreList.map((genreObj, i) =>\n\t//       //<GenreButton id={\"button-\" + genreObj.genre} onClick={() => this.showMovies(genreObj.genre)} genre={genreObj.genre} />\n\t//       //);\n\n\n\n\t//       // Set the state of the genres list to the value returned by the HTTP response from the server.\n\t//       this.setState({\n\t//         genres: genreDivs\n\t//       });\n\t//     }, err => {\n\t//       // Print the error if there is one.\n\t//       console.log(err);\n\t//     });\n //  \t}\n\n\n componentDidMount() {\n // Send an HTTP request to the server.\n\t\t\t fetch(\"http://localhost:8081/disasters\",\n\t\t\t {\n\t\t\t\t method: 'GET' // The type of HTTP request.\n\t\t\t }).then(res => {\n\t\t\t\t // Convert the response data to a JSON.\n\t\t\t\t return res.json();\n\t\t\t }, err => {\n\t\t\t\t // Print the error if there is one.\n\t\t\t\t console.log(err);\n\t\t\t }).then(disastersList => {\n\t\t\t\t if (!disastersList) return;\n\t\t\t\t // Map each genreObj in genreList to an HTML element:\n\t\t\t\t // A button which triggers the showMovies function for each genre.\n\t\t\t\t let disastersDivs = disastersList.map((disastersObj, i) =>\n\t\t\t\t <option value={disastersObj.year}>{disastersObj.year}</option>\n\t\t\t\t );\n\n\t\t\t\t /// Set the state of the genres list to the value returned by the HTTP response from the server.\n\t\t\t\t this.setState({\n\t\t\t\t\t disasters: disastersDivs\n\t\t\t\t });\n\t\t\t }, err => {\n\t\t\t\t // Print the error if there is one.\n\t\t\t\t console.log(err);\n\t\t\t });\n }\n\n handleChange(e) {\n\t this.setState({\n\t\t selectedDecade: e.target.value\n\t });\n }\n\n\n\t/* ---- Q2 (Recommendations) ---- */\n\t// Hint: Name of movie submitted is contained in `this.state.movieName`.\n\tsubmitYear() {\n\t\t// Send an HTTP request to the server.\n\t    fetch(`http://localhost:8081/disasters/${this.state.year_num}`,\n\t    {\n\t      method: 'GET' // The type of HTTP request.\n\t    }).then(res => {\n\t      // Convert the response data to a JSON.\n\t      console.log(res)\n\t      return res.json();\n\t    }, err => {\n\t      // Print the error if there is one.\n\t      console.log(err);\n\t    }).then(yearList => {\n\t      console.log(yearList)\n\t      if (!yearList) return;\n\t      // Map each genreObj in genreList to an HTML element:\n\t      // A button which triggers the showMovies function for each genre.\n\n\t      //let movieDivs = movieList.map((movieObj, i) =>\n\t       //<RecommendationsRow title = {movieObj.title} id = {movieObj.id} rating = {movieObj.rating} vote_count = {movieObj.vote_count}/>);\n\n\t\t   let disastersDivs = yearList.map((yearObj, i) =>\n\t       <DisastersRow incident_type = {yearObj.incident_type} num_disasters = {yearObj.num_disasters}  states= {yearObj.states} />);\n\n\t      // set the state of the movie to the value returned by the server\n\t      this.setState({\n\t      \trecDisaster: disastersDivs,\n\t      });\n\t      }, err => {\n\t        // Print the error if there is one.\n\t        console.log(err);\n\t      });\n\n\t\t\t\tfetch(`http://localhost:8081/disasters`,\n\t\t\t\t{\n\t\t\t\t\tmethod: 'GET' // The type of HTTP request.\n\t\t\t\t}).then(res => {\n\t\t\t\t\t// Convert the response data to a JSON.\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\treturn res.json();\n\t\t\t\t}, err => {\n\t\t\t\t\t// Print the error if there is one.\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t}).then(yearList => {\n\t\t\t\t\tconsole.log(yearList)\n\t\t\t\t\tif (!yearList) return;\n\t\t\t\t\t// Map each genreObj in genreList to an HTML element:\n\t\t\t\t\t// A button which triggers the showMovies function for each genre.\n\n\t\t\t\t\t//let movieDivs = movieList.map((movieObj, i) =>\n\t\t\t\t\t //<RecommendationsRow title = {movieObj.title} id = {movieObj.id} rating = {movieObj.rating} vote_count = {movieObj.vote_count}/>);\n\n\t\t\t\t let yearDivs = yearList.map((yearObj, i) =>\n\t\t\t\t\t <DisastersRow1 year = {yearObj.year} top_topic = {yearObj.top_topic} num_disasters = {yearObj.num_disasters} num_conflicts = {yearObj.num_conflicts}/>);\n\n\n\t\t\t\t\t// set the state of the movie to the value returned by the server\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\trecYear: yearDivs\n\t\t\t\t\t});\n\t\t\t\t\t}, err => {\n\t\t\t\t\t\t// Print the error if there is one.\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t});\n\t}\n\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"Recommendations\">\n\t\t\t\t<PageNavbar active=\"disasters\" />\n\n\t\t\t    <div className=\"container recommendations-container\">\n\t\t\t    \t<div className=\"jumbotron\">\n\t\t\t    \t\t<div className=\"h3\">Natural Disasters</div>\n\n\t\t\t    \t\t<br></br>\n\t\t\t\t\t\t\t<div className=\"dropdown-container\">\n\t\t\t\t\t\t\t\t<select value={this.state.year_num} onChange={this.handleMovieNameChange} className=\"movie-input\" id=\"year_num\">\n\t\t\t\t\t\t\t\t\t<option select value>-- select an option --</option>\n\t\t\t\t\t\t\t\t\t{this.state.disasters}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t<button className=\"submit-btn\" id=\"submitMovieBtn\" onClick={this.submitYear}>Tell me more :)</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t    \t\t<div className=\"header-container\">\n\t\t\t    \t\t\t<br></br>\n\t\t\t    \t\t\t<div className=\"h6\">You would like to know ...</div>\n\t\t\t    \t\t\t<br></br>\n\t\t\t    \t\t\t<div className=\"h5\">This Year ...</div>\n\t\t\t\t    \t\t\t<div className=\"headers\">\n\t\t\t\t    \t\t\t\t<div className=\"header\"><strong>Disasters</strong></div>\n\t\t\t\t    \t\t\t\t<div className=\"header\"><strong>(#) Disasters</strong></div>\n\t\t\t\t\t\t            <div className=\"header\"><strong>States</strong></div>\n\t\t\t\t    \t\t\t</div>\n\t\t\t    \t\t\t<div className=\"results-container\" id=\"results\">\n\t\t\t    \t\t\t\t{this.state.recDisaster}\n\t\t\t    \t\t    </div>\n\t\t\t    \t\t</div>\n\t\t\t    \t</div>\n\n\t\t\t    \t<br></br>\n\t\t\t    \t<div className=\"jumbotron\">\n\t\t\t    \t\t<div className=\"header-container\">\n\t\t\t    \t\t\t<div className=\"h5\">What happened Each Year ...</div>\n\t\t\t\t    \t\t\t<div className=\"headers\">\n\t\t\t\t    \t\t\t\t<div className=\"header\"><strong>Year</strong></div>\n\t\t\t\t    \t\t\t\t<div className=\"header\"><strong>Hot Topic</strong></div>\n\t\t\t\t\t\t            <div className=\"header\"><strong>(#) Disasters</strong></div>\n\t\t\t\t\t\t            <div className=\"header\"><strong>(#) Conflicts</strong></div>\n\t\t\t\t    \t\t\t</div>\n\t\t\t    \t\t\t<div className=\"results-container\" id=\"results\">\n\t\t\t    \t\t\t\t{this.state.recYear}\n\t\t\t    \t\t\t</div>\n\t\t\t    \t\t</div>\n\t\t\t    \t</div>\n\t\t\t    </div>\n\t\t   \t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}